# 07. 함께 모으기

마틴 파울러는 객체지향 설계에는 세 가지 상호 연관된 관점이 있다고 말한다. 파울러는 세 가지 관점을 각각 `개념 관점`, `명세 관점`, `구현 관점`이라고 부른다.

- `개념 관점 (Conceptual Perspective)`: 개념 관점에서 설계는 도메인 안에 존재하는 개념과 개념들 사이의 관계를 표현한다. 도메인이란 사용자들이 관심을 가지고 있는 특정 분야나 주제를 말하며 소프트웨어는 도메인에 존재하는 문제를 해결하기 위해 개발된다. 이 관점은 사용자가 도메인을 바라보는 관점을 반영한다. 따라서 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심이다.

- `명세 관점 (Specification Perspective)`: 명세 관점에 이르면 사용자의 영역인 도메인을 벗어나 개발자의 영역인 소프트웨어로 초점이 옮겨진다. 명세 관점은 도메인의 개념이 아니라 실제로 소프트웨어 안에서 살아 숨쉬는 객체들의 책임에 초점을 맞추게 된다. 즉, 객체의 인터페이스를 바라보게 된다. 명세 관점에서 프로그래머는 객체가 협력을 위해 `무엇`을 할 수 있는가에 초점을 맞춘다. 여기서 중요한 것은 인터페이스와 구현을 분리하는 것이다.

- `구현 관점 (Implementation Perspective)`: 구현 관점은 프로그래머에게 가장 익숙한 관점으로, 실제 작업을 수행하는 코드와 연관되어 있다. 구현 관점의 초점은 객체들이 책임을 수행하는 데 필요한, 실제로 동작하는 코드를 작성하는 것이다. 따라서 프로그래머는 객체의 책임을 `어떻게` 수행할 것인가에 초점을 맞추며 인터페이스를 구현하는 데 필요한 속성과 메서드를 클래스에 추가한다.

지금까지의 설명만 보면 개발 과정이 개념 관점, 명세 관점, 구현 관점의 순서대로 이루어진다고 착각할 수 있다. 그런데 개념 관점, 명세 관점, 구현 관점은 개발 순서를 나타내는 것이 아니라 말 그대로 동일한 클래스를 세 가지 다른 방향에서 바라보는 관점이다. 클래스는 세 가지 관점이라는 안경을 통해 설계와 관련된 다양한 측면을 드러낼 수 있다. 클래스가 은유하는 개념은 도메인 관점을 반영한다. 클래스의 공용 인터페이스는 명세 관점을 반영한다. 클래스의 속성과 메서드는 구현 관점을 반영한다.

결국 클래스는 세 가지 관점을 모두 수용할 수 있도록 개념, 인터페이스, 구현을 함께 드러내야 한다. 동시에 코드 안에서 세 가지 관점을 쉽게 식별할 수 있도록 깔끔하게 분리해야 한다.

이전 챕터에서 역할, 책임, 협력을 이용해 객체의 인터페이스를 식별했었다. 협력에 참여하기 위해 객체가 수신해야 하는 메시지를 결정하고 메시지들이 모여 객체의 인터페이스를 구성했었다. 이렇게 협력 안에서 메시지를 선택하고 메시지를 수신할 객체를 선택했던 것은 객체의 인터페이스, 즉 명세 관점에서 객체를 바라봤던 것이다.

그러면 이제 명세 관점에 더해 개념 관점과 구현 관점을 함께 살펴볼 필요가 있다. 책에 커피 전문점과 관련한 예제가 지금까지 배운 내용을 총정리한 느낌이라 여러 번 읽어볼 필요가 있다. 예제에는 두 가지 목표가 있다. 첫 번째 목표는 도메인 모델에서 시작해서 최종 코드까지의 구현 과정을 간략하게 알아보는 것이다. 두 번째 목표는 구현 클래스를 개념 관점, 명세 관점, 구현 관점에서 바라본다는 것이 어떤 것인지 알아보는 것이다.
